<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <!-- write the body here -->

    <form id="ageForm">
      <input id="age" type="number" name="age" required/>
      <input id="name" type="text" name="name" required/>
      <button id="btn" type="submit">submit</button>
    </form>

    <script type="text/javascript">
      const form = document.getElementById("ageForm");
      form.addEventListener("submit", (e)=>{
        e.preventDefault();
        const ageInput = parseInt(form.age.value.trim(), 10);
        const nameInput = form.name.value.trim();

        if(!ageInput || !nameInput){
          alert("Please Enter all fields");
          return;
        }
        const validAge = new Promise((resolve, reject)=>{
          setTimeout(()=>{
            if(ageInput>18){
              resolve(`Welcome, ${nameInput}. You can vote.`)
            }else{
              reject(`Oh sorry ${nameInput}. You aren't old enough.`);
            }
          },4000);
        });
        validAge.then((message)=>{
          alert(message);
        }).catch((error)=>{
          alert(error);
        })
      });
    </script>
  </body>
</html>